<!DOCTYPE html>
<html lang="tr" class="h-full bg-slate-100">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Yönetim Paneli - @ViewData["Title"]</title>
    <link rel="icon" href="/img/logo_mini.png" type="jpeg">
    <link href="~/css/global.css" rel="stylesheet" />
    <link href="~/css/output.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="h-full font-[Inter]">
    <div class="min-h-full">
        <header class="sticky top-0 z-40 bg-white border-b border-slate-200">
            <!-- Top bar -->
            <div class="mx-auto max-w-7xl px-6 py-3 flex items-center justify-between">
                <!-- left -->
                <div class="flex items-center gap-3">
                    <a asp-controller="Home" asp-action="Index" class="flex items-center gap-2 text-lg font-semibold text-slate-900">
                        <img src="/img/logo_gray.png" alt="Logo" class="h-14" />
                    </a>
                    <span class="hidden md:inline-flex rounded-full bg-emerald-100 px-3 py-1 text-xs font-medium tracking-wide text-emerald-700">
                        Yönetim Paneli
                    </span>
                </div>
                <!-- right -->
                <div class="flex items-center gap-5">
                    <div class="hidden sm:flex flex-col items-end">
                        <p class="text-[10px] uppercase tracking-wide text-slate-500">Bağlı Kullanıcı</p>
                        <p class="text-sm font-semibold text-slate-800">Yönetici</p>
                    </div>
                    <a href="/logout"
                       class="inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 hover:border-slate-300 hover:bg-slate-100 transition">
                        <!-- icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 6l-6 6 6 6M21 12H4" />
                        </svg>
                        Çıkış
                    </a>
                </div>
            </div>

            <!-- Sub-nav (NOT sticky) -->
            <nav class="border-t border-slate-200">
                <div class="mx-auto max-w-7xl px-6 flex items-center justify-between">
                    <ul class="flex flex-wrap gap-2 sm:gap-4 text-sm font-semibold text-slate-400" role="tablist">
                        <li> <a asp-controller="Product" asp-action="Index" data-route="/Admin/Index" class="subnav-link inline-flex items-center gap-2 rounded-full px-3 py-2 hover:text-slate-900"> <!-- Box / Package --> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4a2 2 0 0 0 1-1.73z" /> <path stroke-linecap="round" stroke-linejoin="round" d="M3.3 7l8.7 5 8.7-5" /> <path stroke-linecap="round" stroke-linejoin="round" d="M12 22V12" /> </svg> <span>Ürün Paneli</span> </a> </li>
                        <li> <a asp-controller="Orders" asp-action="Index" data-route="/Admin/Orders" class="subnav-link inline-flex items-center gap-2 rounded-full px-3 py-2 hover:text-slate-900"> <!-- Document / Orders --> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v12a2 2 0 0 1-2 2z" /> </svg> <span>Siparişler</span> </a> </li>
                        <li> <a asp-controller="Stock" asp-action="Index" data-route="/Admin/Stock" class="subnav-link inline-flex items-center gap-2 rounded-full px-3 py-2 hover:text-slate-900"> <!-- Tag / Stock --> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M3 3h6l11 11a2 2 0 0 1 0 3l-5 5a2 2 0 0 1-3 0L3 9V3z" /> </svg> <span>Stoklar</span> </a> </li>
                        <li> <a asp-controller="Analytics" asp-action="Index" data-route="/Admin/Analytics" class="subnav-link inline-flex items-center gap-2 rounded-full px-3 py-2 hover:text-slate-900"> <!-- Chart / Analytics --> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M11 19V6m4 13V10m4 9V4M7 19v-4M3 19h18" /> </svg> <span>Analitik</span> </a> </li>
                    </ul>
                    <div class="hidden sm:flex items-center gap-3 text-xs text-slate-500">
                        <span class="rounded-full bg-slate-100 px-2 py-1">v1.0</span>
                    </div>
                </div>
                <div id="subnav-underline" class="pointer-events-none h-[2px] w-0 bg-slate-900 transition-all duration-300"></div>
            </nav>
        </header>


        <main class="mx-auto max-w-7xl px-6 py-10">
            <div class="grid gap-8 lg:grid-cols-[320px_minmax(0,1fr)]">
                <aside class="space-y-6">
                    <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-lg shadow-slate-200/40">
                        <h2 class="text-sm font-semibold uppercase tracking-wide text-slate-500">Hızlı Erişim</h2>
                        <nav class="mt-4 space-y-2 text-sm font-medium text-slate-700">
                            <a class="flex items-center justify-between rounded-xl bg-slate-900 px-4 py-3 text-white shadow-lg shadow-slate-900/20" href="#urun-girisi">
                                <span>Yeni Ürün Girişi</span>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="h-4 w-4">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 12h14M12 5l7 7-7 7" />
                                </svg>
                            </a>
                            <p class="rounded-xl px-4 py-3 text-slate-500">
                                Ürün görselleri, stok adetleri ve SEO ayarları giriş sırasında yönetilebilir.
                            </p>
                        </nav>
                    </div>
                    <div class="rounded-3xl border border-amber-200 bg-amber-50 p-6 shadow-inner">
                        <h3 class="text-sm font-semibold uppercase tracking-wide text-amber-700">İpucu</h3>
                        <p class="mt-3 text-sm leading-6 text-amber-900">
                            Ürün görseli yüksek çözünürlüklü olmalı (en az 1200px) ve sade bir arka plan içermelidir. Fiyatı girerken vergiler dahil değeri tercih edin.
                        </p>
                    </div>
                </aside>

                <section class="space-y-8">
                    @RenderBody()
                </section>
            </div>
        </main>
    </div>

    @RenderSection("Scripts", required: false)
</body>
</html>
<script>
    // Minimal active styling (works with MVC routes too)
    (function () {
      const links = document.querySelectorAll('.subnav-link');
      const path = location.pathname.toLowerCase();
      let active = [...links].find(a => path.startsWith((a.dataset.route || '').toLowerCase())) || links[0];

      links.forEach(a => a.classList.toggle('text-slate-900', a === active));
      // underline position
      const underline = document.getElementById('subnav-underline');
      const rect = active.getBoundingClientRect();
      const parentRect = active.closest('nav').getBoundingClientRect();
      underline.style.width = rect.width + 'px';
      underline.style.transform = `translateX(${rect.left - parentRect.left}px)`;
    }());
</script>